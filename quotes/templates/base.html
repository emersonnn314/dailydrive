<html lang="en">
  <head>
    {% comment %} <title>
      {% block title %}

      {% endblock %}
    </title> {% endcomment %}
    {% comment %} {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %} {% endcomment %}

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% comment %}font icons{% endcomment %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

      <style>
    #theme-button {
      background-color: #343a40; /* Set an initial background color */
      color: #fff; /* Set an initial text color */
    }
  </style>
  </head>

  <body>
    <ul class="nav justify-content-center">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="{% url 'index' %}">Quotes</a>
      </li>
      {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'saved_quotes' %}">Saved Quotes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'logout' %}">Logout</a>
        </li>
      {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'signup' %}">Signup</a>
        </li>
      {% endif %}
      {% comment %} <li class="nav-item">
        <button class="btn btn-sm btn-secondary" id="theme-button"><i id="theme-icon" class="fas fa-moon"></i> Change Theme</button>
      </li> {% endcomment %}
    </ul>

    <div class="d-grid gap-2 pe-4 d-md-flex justify-content-md-end">
      <div class="row">
        <div class="col-md-12">
          <button class="btn btn-sm btn-outline-light" id="theme-button"><i id="theme-icon" class="fas fa-moon"></i><span id="theme-text"> Dark </span>
 </button>
        </div>
      </div>
    </div>
    <main>
      {% block content %}

      {% endblock %}
    </main>

    <!-- Bootstrap JS (optional, for features like navbar toggling) -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>

  <script>
    function changeTheme() {
      var theme = localStorage.getItem('theme')
      var themeIcon = document.getElementById('theme-icon')
      var themeButton = document.getElementById('theme-button')
          var themeText = document.getElementById('theme-text');

    
      if (theme == 'dark') {
        document.documentElement.setAttribute('data-bs-theme', 'light')
        localStorage.setItem('theme', 'light')
        themeIcon.classList.remove('fa-moon')
        themeIcon.classList.add('fa-sun')
        themeButton.classList.remove('btn-outline-light')
        themeButton.classList.add('btn-outline-dark')
              themeText.textContent = ' Dark';

      } else {
        document.documentElement.setAttribute('data-bs-theme', 'dark')
        localStorage.setItem('theme', 'dark')
        themeIcon.classList.remove('fa-sun')
        themeIcon.classList.add('fa-moon')
    
        themeButton.classList.remove('btn-outline-dark')
        themeButton.classList.add('btn-outline-light')
              themeText.textContent = ' Light';

      }
    }
    
    document.getElementById('theme-button').addEventListener('click', changeTheme)
  </script>
</html>
